clear all; clc;
% This code is to run the structural analysis equations for the aircraft
% design class
%Units are english
%% Input aircraft givens
Wc = 38332; %lbs, cruise weight
b = 76; %ft, wingspan
n = 2; %load safety factor
y = .25; %ft, of beam location
I_xx = .00709; %ft^4, Moment of Inertia
E = 129000000000; %lbs/ft^2, modulus of elasticity of object
z_o = 0; %z = 0
z = 0:1:(b/2); %ft, axis along wing
%% Reactions at the Wall
L_o = (n*Wc)/((2*(pi()*b))/8); %load at root chord of wing
F = L_o*((2*(pi()*b))/8); %lbf, Force
C = (L_o*((b^2)/12)); %ft*lbf, moment coefficient
%% Bending moments and shear force
A = asin((2*z)/b);
A_0 = asin((2*z_o)/b);
V_max = (L_o/4).*(-((pi().*b)/2) + ((2.*z_o.*((1 - (((2.*z_o)/b).^2)).^.5) + b.*A_0))); %lbf, max shear force
M_max = (L_o/4).*(((-z_o.*pi().*b)/2) + ((((b.^2)+2.*(z_o.^2))/3).*((1- (((2.*z_o)/b).^2)).^.5)) +(b.*z_o.*A_0)); %ft*lbf, max bending moment
V_z = (L_o/4).*(-((pi().*b)/2) + ((2.*z.*((1 - (((2.*z)/b).^2)).^.5) + b.*A)));
M_z = (L_o/4).*(((-z.*pi().*b)/2) + ((((b.^2)+2.*(z.^2))/3).*((1- (((2.*z)/b).^2)).^.5)) + (b.*z.*A));
%ft*lbf, bending moment over wing
% plot (z, V_z)
% xlabel ('Wing Length (ft)')
% ylabel('Shear Force (lbf)')
% plot (z, M_z)
% xlabel ('Wing Length (ft)')
% ylabel('Bending Moment (ft*lbf)')
%% Bending Stresses
Comp_stress = -C * (y/I_xx)
Tensile_stress = -C*(-y/I_xx)
%% Deflection
% syms z
% int ((L_o/4).*(((-z.*pi().*b)/2) + ((((b.^2)+2.*(z.^2))/3).*((1- (((2.*z)/b).^2)).^.5)) +
% (b.*z.*asin((2*z)/b))));
% syms z
% int ((29058278755632773157*asin(z/38))/2199023255552 + 38*(1444 -
% z^2)^(1/2)*((470724251277847*z^3)/12701558324068352 +
% (3295069758944929*z)/17592186044416) + (9686092918544257719*asin(z/38)*(z^2/722 -
% 1))/1099511627776 - (26831282322837279*pi*z^2)/4398046511104 +
% (509794364133908301*z*(1 - z^2/1444)^(1/2))/2199023255552);
% z=0;
% C_2 = (1182384389470735*z*asin(z/38))/268435456 +
% (2364768778941469*z^3*asin(z/38))/581431197696 + (2364768778941469*(1444 -
% z^2)^(1/2)*(z^2 + 2888))/1744293593088 + (1444 -
% z^2)^(1/2)*((7965536939592317*z^2)/3917010173952 - 151345201852254023/51539607552) -
% (1756103321496235*z^3)/274877906944 + (22465303399943965*(1 -
% z^2/1444)^(1/2))/134217728 + (1444 - z^2)^(1/2)*((470724251277847*z^4)/1671257674219520
% + (98381368517070023*z^2)/43980465111040 - 41973069313691783449/10995116277760)
% z=38;
% W_o = ((1182384389470735*z*asin(z/38))/268435456 +
% (2364768778941469*z^3*asin(z/38))/581431197696 + (2364768778941469*(1444 -
% z^2)^(1/2)*(z^2 + 2888))/1744293593088 + (1444 -
% z^2)^(1/2)*((7965536939592317*z^2)/3917010173952 - 151345201852254023/51539607552) -
% (1756103321496235*z^3)/274877906944 + (22465303399943965*(1 -
% z^2/1444)^(1/2))/134217728 + (1444 - z^2)^(1/2)*((470724251277847*z^4)/1671257674219520
% + (98381368517070023*z^2)/43980465111040 -
% 41973069313691783449/10995116277760))+C_2
%W = W_o/ (E*I_xx)